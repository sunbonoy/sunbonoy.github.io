> [!Tip]
> 
> 原文内容来自Projec X项目中“[小小白白话文—【安全防护篇】](https://xtls.github.io/document/level-0/ch04-security.html#_4-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9A%E5%AE%89%E5%85%A8%E9%98%B2%E6%8A%A4)”，修改SSH访问端口很有用。

现在，我们来解决【端口 = `22`】的问题。（注意：有些 VPS 服务商，默认的端口已经是非 22 端口，那么你可以忽略这一步，当然也可以跟着本文改成别的端口）

- 我们要做的第一件事，当然就是【用`nano`这个文本编辑器打开SSH登录的配置文件`/etc/ssh/sshd_config`】。(用vim也可以更改）

```
nano /etc/ssh/sshd_config
```

- 文件打开后，你就进入了`nano`的界面，稍微观察一下，你会发现，它把重要的快捷键都显示在屏幕下方了（下图红框内），直接开卷考试、不用死记硬背，是不是很贴心呢？
  
- 我们要做的第二件事，是【在打开的文件中找到`Port`这一项，并修改它的端口】。Port 后面的数字就是 SSH 的端口，一般建议把它改成一个大于`1024`小于`65535`的整数（本文以`9753`为例）。请结合`nano`的快捷键，想一下该怎么操作呢？果然，你又说对了！就是：
  
  - 使用 `ctrl+w` 进入搜索模式，然后输入 `Port 22` 并回车
    
  - 删除 `22` 并改成 `9753`
    
  - 说明：如果这一行开头有个`#`，证明这一行【不生效】（被注释掉了），你可像我一样在文件最后写一个不带`#`的，或者把`#`删掉就好。
    
- 我们要做的第三件事，是【保存文件并退出】
  
  - 如果第 3 步你有仔细观察，就会发现保存并不是常见的 `ctrl+s`。
    
  - 正确的快捷键：保存是 `ctrl+o` + `回车`，退出是 `ctrl+x`
    
  - (部分操作系统) 新增一个防火墙规则，设置为新增的SSH端口, 否则实例重启后无法SSH登陆。
    
  - 如 Ubuntu 的 ufw
    

```
sudo ufw allow 9753/tcp
```

- 我们最后要做的事，是【重启 ssh 服务，使变更生效】

```
systemctl restart ssh
```

- 然后可以尝试在ssh软件上打开新的会话尝试是否可以连上，如果出现问题可以通过旧的ssh会话修改配置(重启sshd时已经打开的ssh不会被关闭)